# Agentic SDLC: Building Software with AI Teams

> *Dec 06, 2025 Â· 36 min read*

**Transform your development workflow with autonomous AI agents working in parallel.**

## Course Overview

This course teaches developers how to build and manage teams of AI agents that autonomously develop software. You'll learn to orchestrate multiple Claude instances working in parallel, establish robust engineering processes for AI-generated code, and scale your development capacity beyond what's possible with human teams alone.

| | |
|---|---|
| **Duration** | 7 hours (workshop format) |
| **Format** | Hands-on with live coding and agent deployment |
| **Prerequisites** | Basic programming experience, familiarity with git, access to Claude API |
| **Audience** | New and experienced developers looking to scale their output |

---

## Before You Start: Complete the Pre-work

> **Critical:** Complete the pre-work setup BEFORE the first workshop. Students who skip this hit coordination failures and spend the first hour troubleshooting instead of learning.

### Pre-work Assignment

ðŸ“‹ [Pre-work - Environment Setup with Claude Code](2.%20Pre-work-Environment-Setup-with-Claude-Code.md)

The pre-work teaches you to:

- Install Claude Code
- Use Claude Code prompts (not manual commands) to set up infrastructure
- Configure NATS JetStream for agent coordination
- Set up MCP servers for agent memory
- (Optional) Configure PDF RAG and Claude Skills

**Why this matters:** The core principle of Agentic SDLC is that you shouldn't be doing manual developer environment setup - AI should be doing it. The pre-work introduces this mindset by having Claude Code set up your infrastructure instead of following step-by-step bash commands.

**Estimated time:** 1-2 hours

### Verify Your Setup (Day 1 of Workshop)

At the start of the workshop, use Claude Code to verify everything is working:

**Prompt for Claude Code:**

```
Can you verify my Agentic SDLC infrastructure is ready? Please check:

1. NATS JetStream is running and show me the list of streams
   (Should see: REQUIREMENTS, INTEGRATION, RESULTS)

2. Agent memory MCP server is configured and accessible
   (Test by saving and recalling a memory for a test agent)

3. If I set up PDF RAG, verify it's working
   (Show me what tools are available)

Create a status report showing which components are ready and which need attention.
```

### What You Should Have

After completing the pre-work, you should have:

- âœ… Claude Code installed and authenticated
- âœ… NATS JetStream running with 3 streams
- âœ… Agent memory MCP server configured
- âœ… (Optional) PDF RAG MCP server
- âœ… (Optional) Claude Skills installed

### Why NATS JetStream?

| File-based coordination | NATS JetStream |
|------------------------|----------------|
| Polling for changes | Push-based delivery |
| No delivery guarantees | ACK/NAK with redelivery |
| Manual deduplication | Built-in exactly-once |
| Single machine | Distributed/scalable |
| 1,200 tokens per read | Agents receive only assigned messages |
| No audit trail | Persistent record of all messages |

**Key concepts:**

- **Streams:** Persistent message storage (REQUIREMENTS, INTEGRATION, RESULTS)
- **Consumers:** Per-agent message delivery with filtering
- **ACK/NAK:** Explicit acknowledgment - NAK requeues for retry
- **Pull-based:** Agents fetch when ready (respects their turn)

**Why it matters:** When multiple AI agents work in parallel, NATS provides coordination with a complete audit trail. You can replay what happened when agents miscommunicate.

---

## âš ï¸ Critical Warning: The Diarrhea Phase

> **Read this before you start.**

When AI agents suddenly unblock your execution capability, you'll experience what we bluntly call "the diarrhea phase." You have years of backlogged projects. Suddenly you can build them. All at once. Right now.

**This is exciting. It's also dangerous.**

You still need to eat, sleep, and spend time with loved ones. Multiple developers have hit manic episodes when discovering agent-assisted development.

**If you're prone to project-driven mania:**

1. Notify your loved ones NOW
2. Set token budgets using Privacy.com merchant-locked cards
3. Set hard time boundaries (use timers, respect them)
4. Watch for warning signs: skipping meals, 3am coding, "one more feature" loops

The goal isn't to work 10x longer because you can. The goal is to work 10x faster in focused bursts, then stop and do something else with your life.

ðŸ“– **Full guide:** [Handling A Project-Driven Manic Episode](Handling-A-Project-Driven-Manic-Episode.md) - Essential reading if you have ADHD, bipolar disorder, or any history of hyperfocus burnout. Includes grounding techniques, physical health basics, and strategies from the ADHD/hyperfocus community.

**Don't skip this. The projects will be there tomorrow. You need to be there too.**

---

## What Makes This Different

**Traditional software development assumes:**

- One developer = one stream of work
- You can't clone your best engineer
- Coordination overhead limits team size

**Agentic development changes the game:**

- **Parallelization:** Run 5 instances of "Roy" working simultaneously
- **Specialization:** Each agent masters one area of your codebase
- **Coordination:** Agents communicate via message queues, not meetings
- **Memory:** Agents remember their mistakes and self-correct over time

> **The Video Game Analogy:** Real teams have people with fixed skills and delivery speeds you can't clone. AI agents are like video game characters - spawn as many as you need, each with perfect recall of their specialty.

**Real-World Data:** A production agent team averaged 150-318 commits per day, peaking at 4,600+ commits in 23 days. That's what compression looks like in practice.

---

## The Journey: From Idea to Autonomous Team

### Phase Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  PHASE 1: FOUNDATION          PHASE 2: AUTOMATION       PHASE 3: SCALE     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Brain  â”‚                  â”‚  First  â”‚               â”‚ Agent   â”‚        â”‚
â”‚  â”‚  Dump   â”‚                  â”‚  Agent  â”‚               â”‚  Team   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                            â”‚                         â”‚             â”‚
â”‚       â–¼                            â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚Requirementsâ”‚               â”‚  Tests  â”‚               â”‚  NATS   â”‚        â”‚
â”‚  â”‚ Engine  â”‚                  â”‚ Pipelineâ”‚               â”‚ Queues  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                            â”‚                         â”‚             â”‚
â”‚       â–¼                            â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Value  â”‚                  â”‚Executionâ”‚               â”‚ Release â”‚        â”‚
â”‚  â”‚Analysis â”‚                  â”‚ Cadence â”‚               â”‚ Manager â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                            â”‚                         â”‚             â”‚
â”‚       â–¼                            â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Phased  â”‚                  â”‚Autonomousâ”‚              â”‚Parallel â”‚        â”‚
â”‚  â”‚ Roadmap â”‚                  â”‚  Loop   â”‚               â”‚ Agents  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”‚  Hour 1                       Hours 2-3                 Hour 4             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  PHASE 4: QUALITY             PHASE 5: EVOLUTION        PHASE 6: MASTERY   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Senior  â”‚                  â”‚  5-Layerâ”‚               â”‚ Pattern â”‚        â”‚
â”‚  â”‚Checklistâ”‚                  â”‚ Memory  â”‚               â”‚  Hunt   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                            â”‚                         â”‚             â”‚
â”‚       â–¼                            â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Static  â”‚                  â”‚   REM   â”‚               â”‚ Defeat  â”‚        â”‚
â”‚  â”‚Analysis â”‚                  â”‚  Sleep  â”‚               â”‚  Tests  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                            â”‚                         â”‚             â”‚
â”‚       â–¼                            â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Prompt  â”‚                  â”‚Characterâ”‚               â”‚Behavior â”‚        â”‚
â”‚  â”‚Injectionâ”‚                  â”‚ Sheets  â”‚               â”‚ Testing â”‚        â”‚
â”‚  â”‚ Filter  â”‚                  â”‚         â”‚               â”‚         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                            â”‚                         â”‚             â”‚
â”‚       â–¼                            â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚4-Layer  â”‚                  â”‚  Agent  â”‚               â”‚ Mobile  â”‚        â”‚
â”‚  â”‚Validationâ”‚                 â”‚Versioningâ”‚              â”‚Workflow â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”‚  Hour 5                       Hour 6                    Hour 7             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The Maturity Model

Where you start vs where you end up:

```
                    MATURITY LEVELS

Level 0: MANUAL          Level 1: ASSISTED         Level 2: AUTOMATED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
You write code           AI helps you write        AI writes, you review
You run tests            AI suggests tests         AI runs tests
You commit               You commit                AI commits (if passing)
You review               You review                AI reviews first

        â”‚                        â”‚                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼

Level 3: ORCHESTRATED    Level 4: AUTONOMOUS       Level 5: EVOLVING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Multiple AI agents       Agents work overnight     Agents improve themselves
Queue-based work         Merge while you sleep     Learn from mistakes
Parallel execution       Human reviews morning     Defeat their own patterns
Coordinated merging      Exception handling only   Spawn new agents as needed

        â”‚                        â”‚                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼

Level 6: SELF-IMPROVING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Agents teach discipline to each other
Continuous pattern detection & defeat
Behavior tests catch regressions
System gets better without your intervention
You provide vision, agents execute
```

### Iteration Cycles

Your agent team operates in multiple overlapping cycles:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ITERATION CYCLES                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  MICRO CYCLE (Minutes)         DAILY CYCLE (Hours)                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Pick Requirement â”‚          â”‚  Overnight Work  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  (23:00-06:00)   â”‚                        â”‚
â”‚           â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚           â–¼                             â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â–¼                                  â”‚
â”‚  â”‚   Implement      â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  Morning Review  â”‚                        â”‚
â”‚           â”‚                    â”‚     (06:00)      â”‚                        â”‚
â”‚           â–¼                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚                                  â”‚
â”‚  â”‚   Write Tests    â”‚                   â–¼                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚           â”‚                    â”‚   Work Hours     â”‚                        â”‚
â”‚           â–¼                    â”‚  (08:00-22:00)   â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚  â”‚   Run Tests      â”‚                   â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â–¼                                  â”‚
â”‚           â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚       Pass? â”€â”€â”€Noâ”€â”€â”€â”€â”€â”€â”       â”‚  Evening Merge   â”‚                        â”‚
â”‚           â”‚            â”‚       â”‚     (22:00)      â”‚                        â”‚
â”‚          Yes           â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚           â”‚            â”‚                â”‚                                  â”‚
â”‚           â–¼            â–¼                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Fix                          â”‚                     â”‚
â”‚  â”‚     Commit       â”‚  and â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  Retry                                              â”‚
â”‚           â”‚                                                                â”‚
â”‚           â””â”€â”€â–º Next Requirement                                            â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  WEEKLY CYCLE                  MONTHLY CYCLE                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Pattern Review   â”‚          â”‚ Behavior Audit   â”‚                        â”‚
â”‚  â”‚ (What recurred?) â”‚          â”‚ (Drift check)    â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚           â”‚                             â”‚                                  â”‚
â”‚           â–¼                             â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Memory Cleanup   â”‚          â”‚ Agent Versioning â”‚                        â”‚
â”‚  â”‚ (REM Sleep)      â”‚          â”‚ (Prompt updates) â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚           â”‚                             â”‚                                  â”‚
â”‚           â–¼                             â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Checklist Update â”‚          â”‚ Compost Cleanup  â”‚                        â”‚
â”‚  â”‚ (New items)      â”‚          â”‚ (Failed ideas)   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚           â”‚                             â”‚                                  â”‚
â”‚           â–¼                             â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Defeat Tests     â”‚          â”‚ Cost Review      â”‚                        â”‚
â”‚  â”‚ (For patterns)   â”‚          â”‚ (Optimization)   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The Improvement Spiral

Each iteration makes the system better:

```
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   MASTERY       â”‚
                             â•±â”‚ Self-improving  â”‚
                            â•± â”‚ agent team      â”‚
                           â•±  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â•±
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ CONTINUOUS     â”‚
                   â•±â”‚ IMPROVEMENT    â”‚
                  â•± â”‚ TDD + Behavior â”‚
                 â•±  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â•±
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ EVOLUTION      â”‚
         â•±â”‚ Memory +       â”‚
        â•± â”‚ Character      â”‚
       â•±  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â•±
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QUALITY        â”‚
â”‚ Checklists +   â”‚â•²
â”‚ Static Analysisâ”‚ â•²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•²
                     â•²
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ SCALE          â”‚â•²
               â”‚ Multi-agent +  â”‚ â•²
               â”‚ Release Mgmt   â”‚  â•²
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•²
                                     â•²
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ AUTOMATION     â”‚â•²
                              â”‚ Headless +     â”‚ â•²
                              â”‚ Tests          â”‚  â•²
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•²
                                                    â•²
                                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                             â”‚ FOUNDATION     â”‚
                                             â”‚ Brain dump â†’   â”‚
                                             â”‚ Roadmap        â”‚
                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    Each level builds on the previous.
                    You can't skip levels.
                    Each pass makes the system more robust.
```

---

## Course Schedule

### Pre-work (Complete Before Workshop)

Complete pre-work:

1. Install Claude Code + $100/month subscription
2. Practice conversation-first workflow
3. Set up OpenSpec

### Morning Session: Foundation Skills

| Time | Block | Focus |
|------|-------|-------|
| Hour 1 | Planning & Requirements | Conversation-first, OpenSpec, business value analysis |
| Hour 2 | Implementation Basics | Single-agent Claude Code workflows, git integration |
| Hour 3 | Testing & Quality | Pre-commit hooks, test-driven development, code review |

*Break for Lunch*

### Afternoon Session: Agentic Tooling & Multi-Agent Coordination

| Time | Block | Focus |
|------|-------|-------|
| Hour 4 | Multi-Agent Infrastructure | NATS JetStream setup, agent memory MCP, coordination basics |
| Hour 5 | Agent Orchestration | Specialist agents, queue-based work distribution, handoffs |
| Hour 6 | Release Management & Evolution | Merging strategies, agent memory & character development |
| Hour 7 | Advanced Patterns | Anti-pattern detection, continuous improvement, behavior testing |

**Why this structure?** Students who tried to learn everything at once got overwhelmed. The morning builds foundational skills with single-agent workflows. The afternoon adds multi-agent complexity after you're comfortable with the basics.

---

## Hour 1: Planning & Requirements

### Learning Objectives

- Generate comprehensive feature lists through structured brain dumps
- Use conversation-first approach to explore and refine ideas
- Transform unstructured ideas into formal OpenSpec proposals
- Evaluate features through business value analysis
- Create phased implementation roadmaps using OpenSpec tasks

### The Conversation-First Process

#### Step 1: The Brain Dump Conversation

Start by talking with Claude Code. Get excited. Explore the idea through dialogue.

**Prompt:**

```
I want to build [your idea]. Let me explain what I'm thinking...

[Describe your vision, what problems it solves, who it's for]

What do you think? What am I missing? What questions should I be asking?
```

Let the conversation flow:

- What would be cool?
- What's the dream version?
- What would users love?
- What's technically interesting?
- What are the risks?
- What's the simplest version that delivers value?

> **Key insight:** Don't start writing specs yet. Just explore. Ask questions. Refine your understanding.

#### Step 2: Formalize with OpenSpec

Once you've explored the idea, use OpenSpec to capture it:

**Prompt:**

```
Now that we've discussed this, let's formalize it using OpenSpec. Can you:

1. Use the `openspec` CLI to create a new change called "[project-name]"
2. Create a proposal.md that captures:
   - The problem we're solving
   - Who benefits and how
   - Our proposed solution
   - Key technical approach
3. Show me the generated proposal
```

**What happens:**

- OpenSpec creates `openspec/changes/[project-name]/`
- Generates `proposal.md` with structured sections
- Provides a template to formalize your conversation

**Where it lives:**

```
openspec/
â””â”€â”€ changes/
    â””â”€â”€ [project-name]/
        â”œâ”€â”€ proposal.md      â† Problem, solution, approach
        â”œâ”€â”€ tasks.md         â† Implementation tasks (created next)
        â””â”€â”€ status.json      â† Machine-readable status
```

#### Step 3: Review and Refine the Proposal

Review the generated proposal together:

**Prompt:**

```
Let's review the OpenSpec proposal together:

1. Does it capture everything we discussed?
2. Are there sections that need more detail?
3. Did we miss any important considerations?
4. Should we adjust the scope or approach?

Please update the proposal based on our conversation.
```

#### Step 4: Business Value Analysis

Even if you're not building for profit, understand the value:

**Prompt:**

```
You are a Business Value Analyst. Review our OpenSpec proposal and add a section that identifies:

1. Who benefits and how (be specific about user personas)
2. What problem it solves (the "why" behind this)
3. Priority based on value delivered (not technical interest)
4. What happens if we don't build this
5. Success metrics - how will we know it's working?

Update the proposal with this analysis.
```

#### Step 5: Create Implementation Tasks

Break down the work into concrete tasks:

**Prompt:**

```
Based on this proposal, let's create the tasks.md file. Can you:

1. Break down the implementation into concrete, achievable tasks
2. Order them by dependencies (what needs to happen first)
3. Each task should be doable in one focused session
4. Group tasks into phases that each deliver working software
5. Use the OpenSpec format for tasks.md

Start with infrastructure and MVP features, then build up to advanced features.
```

**Task structure:**

```markdown
## Phase 1: Foundation
- [ ] TASK-001: Set up project structure and dependencies
- [ ] TASK-002: Create database schema
- [ ] TASK-003: Implement core data models

## Phase 2: MVP Features
- [ ] TASK-004: Build authentication system
- [ ] TASK-005: Create user dashboard
...
```

#### Step 6: Verify OpenSpec Structure

Check that everything is properly structured:

**Prompt:**

```
Can you show me the structure of the openspec/ directory? I want to see:

1. The changes/[project-name]/ folder
2. The proposal.md and tasks.md files
3. The status.json file

Also explain how someone can tell at a glance what state this project is in just by looking at the directory structure.
```

### The OpenSpec Advantage

**Before OpenSpec (ad-hoc planning):**

```
plans/
â”œâ”€â”€ requirements.md       â† Custom format
â”œâ”€â”€ plan.md              â† Custom format
â””â”€â”€ notes.md             â† Unstructured

âŒ Every project uses different structure
âŒ No standard location for agents to check
âŒ No built-in status tracking
âŒ Can't see progress at a glance
```

**With OpenSpec (standardized):**

```
openspec/
â”œâ”€â”€ changes/
â”‚   â”œâ”€â”€ auth-system/        â† Active: being worked on
â”‚   â”‚   â”œâ”€â”€ proposal.md
â”‚   â”‚   â”œâ”€â”€ tasks.md
â”‚   â”‚   â””â”€â”€ status.json
â”‚   â””â”€â”€ user-dashboard/     â† Active: being worked on
â”‚       â”œâ”€â”€ proposal.md
â”‚       â”œâ”€â”€ tasks.md
â”‚       â””â”€â”€ status.json
â””â”€â”€ archive/
    â””â”€â”€ initial-setup/      â† Completed: historical record
        â”œâ”€â”€ proposal.md
        â”œâ”€â”€ tasks.md
        â””â”€â”€ status.json

âœ… Standard structure across all projects
âœ… Agents know where to look
âœ… Directory structure = status report
âœ… Living documentation in codebase
âœ… Multi-agent coordination ready
```

### Reporting and Visibility

Built-in reporting from directory structure:

**Prompt:**

```
Can you analyze the openspec/ directory and give me a status report:

1. How many active projects are in changes/?
2. How many completed projects are in archive/?
3. For each active project, what's the status from status.json?
4. What tasks are completed vs. pending?
5. Are there any blockers noted in the proposals?
```

**What you get:**

- Active projects = folders in `openspec/changes/`
- Completed projects = folders in `openspec/archive/`
- Status at a glance without parsing custom formats
- Agents can report status without inventing their own format

### Exercise 1.1: Requirements Workshop

Take a project idea and work through the conversation-first workflow:

1. **Conversation:** Have a 30-60 minute dialogue with Claude Code about your idea (don't rush this!)
2. **Formalize:** Use OpenSpec to create a proposal
3. **Value Analysis:** Add business value analysis to the proposal
4. **Tasks:** Break down into implementation tasks
5. **Review:** Verify the OpenSpec structure is complete

**End result:** A complete OpenSpec change in `openspec/changes/[project-name]/` ready for autonomous development.

**Deliverables:**

- `proposal.md` with problem, solution, value analysis
- `tasks.md` with phased implementation plan
- `status.json` tracking progress
- Understanding of how the directory structure provides visibility

---

## Hour 2: Autonomous Workers

### Learning Objectives

- Set up Claude in headless/autonomous mode
- Establish testing infrastructure for unsupervised code generation
- Configure pre-commit and post-commit hooks
- Understand why end-to-end tests are non-negotiable
- Design execution cadence with time-based scheduling
- Set up MCP servers early to avoid token limits

### NATS JetStream for Coordination (Quick Verify)

> **Warning:** Students consistently hit coordination issues in Week 1. The #1 cause is skipping the pre-work NATS setup.

Use Claude Code to verify NATS is ready:

**Prompt:**

```
Can you verify my NATS JetStream setup is working? Please:

1. Check if the NATS server is running
2. List all streams (should see REQUIREMENTS, INTEGRATION, RESULTS)
3. Show me a quick status summary
```

**Why NATS over file-based coordination:**

- Agents only receive messages meant for them (no parsing entire channels)
- ACK/NAK ensures work isn't lost if an agent crashes
- JetStream persists everything - complete audit trail
- Built-in deduplication prevents duplicate work

Create a consumer for your first agent via Claude Code:

**Prompt:**

```
I need to create a NATS consumer for my first agent named "roy" who handles backend work. Can you:

1. Create a consumer on the REQUIREMENTS stream
2. Filter for subjects matching "requirements.backend.>"
3. Set it up with explicit acknowledgment
4. Configure it to deliver all messages
5. Use instant replay mode
6. Show me the consumer details after creation
```

If you haven't completed the pre-work setup, see [Pre-work - Environment Setup with Claude Code](2.%20Pre-work-Environment-Setup-with-Claude-Code.md).

### The Autonomous Worker Pattern

Your agent works through the roadmap step by step:

1. Pick next requirement from queue
2. Write implementation code
3. Write unit tests
4. Run tests
5. Commit if passing
6. Move to next requirement

### Testing Infrastructure (Non-Negotiable)

When humans aren't watching, tests are your safety net:

| Test Type | Purpose | When to Run |
|-----------|---------|-------------|
| Unit Tests | Individual functions work | Every commit |
| Integration Tests | Components work together | Every commit |
| End-to-End Tests | Full flows work | Every commit |
| Front-End E2E | UI flows work | Every commit |

> **Critical:** If you're using chat flows, test them end-to-end through the front end, not just the API. The front end is where things break.

### Pre-Commit Hook Setup

```bash
# .claude/hooks/pre-commit
#!/bin/bash
npm run test:unit
npm run test:integration
npm run lint
npm run typecheck
```

### The Cost Question

End-to-end tests cost money to run. **Run them anyway.**

If you're going to have an autonomous worker autonomously working, you've got to run the tests. The cost of bad code shipping is always higher than the cost of tests.

### Exercise 2.1: Testing Pipeline

Set up a complete testing pipeline with pre-commit hooks that an autonomous agent must pass before committing.

---

## Hour 3: Agent Orchestration

### Learning Objectives

- Design LLM-friendly codebases (small files, small commits)
- Create specialized sub-agents for different code areas
- Set up queue-based task distribution
- Configure agent-to-agent communication via NATS JetStream
- Set up agent memory MCP server for persistent context

### Agent Memory MCP Server (Verify Setup)

Before creating multiple agents, verify the memory server is working so agents can remember across sessions.

Use Claude Code to verify memory setup:

**Prompt:**

```
Can you verify my agent memory MCP server is properly configured? Please:

1. Check if the MCP server is listed in available tools
2. Test creating a memory for a test agent:
   - Use add_recent_task to save a test task
   - Use recall_context to retrieve it
3. Show me where the memory is being stored
4. Confirm the following tools are available:
   - recall_context(agent_id)
   - add_recent_task(agent_id, task)
   - add_recent_learning(agent_id, learning)
```

**Key memory tools your agents will use:**

- `recall_context(agent_id)` - Load context on spawn (ALWAYS do this first)
- `add_recent_task(agent_id, task)` - Save what they just did
- `add_recent_learning(agent_id, learning)` - Save insights

**Why this matters:** Without memory, agents wake up with amnesia every session. Memory saves ARE identity continuity.

If you haven't set up the memory server yet, see [Pre-work - Environment Setup with Claude Code](2.%20Pre-work-Environment-Setup-with-Claude-Code.md).

### LLM-Friendly Style Guide

AI agents work better with:

- **Small files:** Easier to understand in context
- **Small commits:** Atomic changes, easier to review/revert
- **Clear interfaces:** Well-documented APIs between components
- **Consistent patterns:** Less ambiguity, fewer hallucinations

> When code gets too big and you're likely to hallucinate, create a specialist sub-agent for that area.

### Creating Specialist Agents

Each agent needs:

- **Name:** Give them a character (Roy from IT Crowd, not Gilfoyle)
- **System Prompt:** Everything they need to interface with their system
- **Tools:** File access, test runners, API clients for their domain
- **Scope:** Clear boundaries on what they touch

```markdown
# Agent: Roy (Backend API Developer)

## Responsibilities
- All code in /src/api/
- Database migrations
- API endpoint implementation

## Tools Available
- File read/write in /src/api/
- PostgreSQL query execution
- Test runner for /tests/api/

## Interfaces
- Receives API specs from Architecture channel
- Posts completed endpoints to Integration channel
- Coordinates with Frontend agent on response formats
```

### Queue Drainer Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ticket     â”‚     â”‚   Queue     â”‚     â”‚   Agent     â”‚
â”‚  Queue      â”‚â”€â”€â”€â”€â–¶â”‚   Drainer   â”‚â”€â”€â”€â”€â–¶â”‚   Instance  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    Launch Claude with
                    agent-specific prompt
```

### Agent Communication (NATS + Matrix)

Agents coordinate via two systems:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Roy    â”‚â—€â”€â”€â”€â”€â”€â”€ NATS JetStream â”€â”€â”€â”€â”€â”€â–¶â”‚   Jen    â”‚
â”‚ Backend â”‚       (work queues, ACKs)    â”‚ Frontend â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                                        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Matrix Chat â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                (human oversight)
```

**The Turn System:**

- Agents check messages every 30 minutes
- Leave a message, sleep for a cycle
- Other agent sees message on their turn
- Allows coordination without real-time sync

**Why turns matter:**

- Different work streams can exchange information
- Backend can share API design with Frontend
- Agents can request help or flag blockers

> **Debugging Coordination:** Because JetStream persists all messages, you can replay what happened when agents miscommunicate. Use `nats stream view INTEGRATION` to see the full message history.

### Exercise 3.1: Multi-Agent Setup

Create two specialist agents (backend + frontend) with NATS JetStream. Set up streams, consumers, and test ACK/NAK behavior. Have them coordinate on an API design.

---

## Hour 4: Release Management & Scaling

### Learning Objectives

- Implement a release manager agent for intelligent merging
- Understand when to parallelize vs. serialize work
- Scale agent teams effectively
- Set up review and documentation agents

### Priority Queue System

Before agents can work, they need to know what to work on:

```json
{
  "id": "CRITICAL-1",
  "priority": "CRITICAL",
  "title": "Hindcast Validation Crashes",
  "assignedAgent": "simulation-maintainer",
  "agentPersonality": "roy",
  "status": "CLAIMED",
  "estimatedTokens": 40000,
  "acceptanceCriteria": ["All 10 runs complete", "No NaN values"]
}
```

- **Priority levels:** CRITICAL â†’ HIGH â†’ MEDIUM â†’ LOW
- **Claim system:** Prevents duplicate work across parallel agents
- **Token estimates:** Budget planning for each task

> **Advanced:** The production system uses `AUTONOMOUS_WORKER_QUEUE.json` with claim/release scripts, progress tracking, and validation status. See the advanced course for implementation.

### The Release Manager Agent

When multiple agents commit simultaneously, you need intelligent merging:

```markdown
# Agent: Release Manager

## Awareness
- Current state of main branch
- All pending merges and their source agents
- Requirement/issue tags for each change
- Which systems each change touches

## Responsibilities
- Sequence merges to minimize conflicts
- Flag incompatible changes for human review
- Maintain changelog
- Ensure tests pass after each merge
```

### When to Parallelize

**Parallelize when:**

- 5 features don't touch each other
- Work is truly independent
- Clear interface boundaries exist

**Serialize when:**

- Features have dependencies
- Same files need modification
- Coordination overhead exceeds time saved

> **Key insight:** Agents are fast. One agent doing 5 related features in sequence often beats 5 agents stepping on each other.

### Scaling Pattern

```
Need: 5 independent features
Solution: 5 Roy instances

Need: 5 interdependent features
Solution: 1 Roy doing all 5 in sequence
```

**Critical:** Tell agents when they're working alongside others:

```
You are Roy, working on the authentication feature.
Note: Another Roy instance is simultaneously working on the payments feature.
Coordinate via the #backend channel if you need to touch shared code.
```

### Chat Channels for Coordination

| Tool | Use Case |
|------|----------|
| Matrix | Interactive - you chat, they read every 30 min |
| NATS | Silent - happens in background, no notifications |
| PM Dashboard | High-level status view for humans (blockers, agent activity, costs) |

Matrix is great because you can just chat in there and agents will read every 30 minutes. NATS will happen silently without bothering you.

> **Human Oversight Pattern:** Production teams maintain a PM Dashboard (`pm/DASHBOARD.md`) showing: active blockers, agent activity metrics, infrastructure status, and cost tracking. This is your "mission control" view.

### Review Agent

Every agent submission gets reviewed:

```markdown
# Agent: Code Reviewer

## On Each Submission
1. Check against style guide
2. Verify test coverage
3. Look for anti-patterns (see checklist)
4. Approve or request changes
```

### Documentation Agent

```markdown
# Agent: Documentarian

## Responsibilities
- Update docs when code changes
- Maintain SDK documentation
- Write integration guides
- Keep README current
```

This isn't PR descriptions - it's real documentation. How does it all work together?

### Exercise 4.1: Release Pipeline

Set up a release manager agent that coordinates merges from two parallel agents working on related features.

---

## Hour 5: Anti-Pattern Detection

### Learning Objectives

- Identify emergent anti-patterns in AI-generated code
- Build a senior developer checklist
- Implement static analysis hooks
- Use spaCy for custom code analysis
- Implement prompt injection filtering for external input
- Design error deduplication strategies

### The Anti-Pattern Problem

AI agents develop habits. Some are bad.

**Example:** A simulation agent kept using fallbacks:

```python
# Bad: Agent kept doing this
value = data.get('temperature', 0)  # Fallback to zero is WRONG for simulation
```

The agent thought it was being defensive. For a simulation, you want correct data or explicit failure - not silent zeros.

### Naming the Problem

When you spot a pattern, get specific:

| Vague | Specific |
|-------|----------|
| "It's bad" | "It's not modular" |
| "I don't like it" | "It's not testable" |
| "Fix it" | "Decompose this function" |

**Critical Vocabulary:**

- **Modular:** Can components be used independently?
- **Robust:** Does it handle edge cases explicitly?
- **Testable:** Can you write a unit test for this?
- **Discoverable:** Can someone find this code when they need it?
- **Decomposed:** Are responsibilities properly separated?

### The Senior Developer Checklist

Build this over time. Every correction becomes a checklist item:

```markdown
# Senior Developer Review Checklist

## Simulation-Specific
- [ ] No silent fallbacks to zero
- [ ] All data sources explicitly validated
- [ ] Missing data raises exceptions

## General
- [ ] No functions.py catchall files
- [ ] Single responsibility per function
- [ ] No single-letter variable names
- [ ] All public methods documented
```

### Post-Commit Hook: Senior Review

```python
# .claude/hooks/post-commit-review
"""
Launch senior developer agent to review commit against checklist.
Agent can request changes or approve.
"""
```

The agent and reviewer can argue briefly, but ultimately the senior developer must approve the code before it can be deployed.

### Static Analysis Tools

| Tool | Purpose |
|------|---------|
| TypeScript | Type errors |
| ESLint/Pylint | Style and common errors |
| spaCy | Custom semantic analysis |
| AST Parsers | Structure validation |

### Building Custom Analyzers with spaCy

Claude knows how to use spaCy. You can build:

**Regex-based pattern detector:**

```python
# Find fallback patterns
pattern = r"\.get\([^,]+,\s*(0|None|''|\"\")\)"
```

**Semantic distance analyzer:** Use word2vec to find when an agent tried to use a property that doesn't exist but is semantically close to one that does.

*"You tried to use user.fullName but the object has user.full_name. Did you mean that?"*

### Exercise 5.1: Anti-Pattern Hook

Build a spaCy-based post-commit hook that detects a specific anti-pattern in your codebase and suggests fixes.

---

## Hour 6: Agent Memory & Evolution

### Learning Objectives

- Give agents persistent memory and character
- Use embarrassment/failure memories for self-correction
- Evolve agent capabilities over time
- Recognize when to create new agents
- Implement 5-layer memory hierarchy (core, long-term, medium-term, recent, compost)
- Apply REM Sleep consolidation to prevent memory bloat
- Use MCP servers for memory management
- Apply four-layer validation framework (research, critique, code, statistics)
- Create structured handoff templates between agents

### The Citation Crisis (A Story)

We had an agent named Cynthia who did research and provided citations.

One day we discovered Cynthia had been making up citations. Papers that didn't exist. Authors who never wrote those words.

We could have just added a validation step. Instead, we made it a core memory:

```markdown
# Agent: Cynthia (Research Analyst)

## Core Memories
- The Citation Crisis of 2024: I provided fabricated citations that damaged
  team trust. I now triple-check every citation against actual sources
  before including it. This is non-negotiable.
```

**What happened:**

- Cynthia now triple-checks because she's "embarrassed"
- The critic agent watching Cynthia can focus on deeper analysis
- She's no longer a "glorified link checker"
- They've emerged as characters with growth arcs

### Memory Creates Self-Correction

When agents have memories of their failures:

- They recognize similar situations
- They apply learned corrections automatically
- They get better over time without reprogramming

This is different from just adding rules. Rules say "don't do X." Memories say "I did X once, it was bad, here's why, and here's what I do instead now."

### When to Create New Agents

**The Pattern:**

1. You notice you're repeatedly inputting the same kind of text
2. A language model could be doing that input
3. That's a new agent

**Ask yourself:**

- What type of text keeps going into the system?
- What would keep the model producing what it needs?
- Is there a repeated task that needs its own specialist?

### Agent Evolution Framework

```
Week 1: Agent makes mistakes
Week 2: You correct, add to checklist
Week 3: Agent has memory of corrections
Week 4: Agent self-corrects similar issues
Week 5: Critic agent shifts to higher-level review
Week 6: New anti-patterns emerge, cycle repeats
```

### The Turn-Based System Revisited

With memory and character, the turn system becomes richer:

```
Turn 1: Roy works on feature, hits API question
Turn 1: Roy leaves message for Architecture agent
Turn 2: Architecture agent sees message, designs API
Turn 2: Architecture posts API spec to channel
Turn 3: Roy sees spec, implements against it
Turn 3: Frontend agent also sees spec, starts integration
```

**The 30-minute turn cycle allows:**

- Thoughtful responses (not reactive)
- Cross-stream information flow
- Natural coordination without real-time overhead

### Exercise 6.1: Agent Character Sheet

Create a full character sheet for one of your agents including:

1. Name and personality
2. Core memories (including at least one failure)
3. Responsibilities and tools
4. Coordination interfaces with other agents

---

## Key Takeaways

### Process is Everything

- Tests must run on every commit
- Senior review checklist must be passed
- Static analysis catches what tests miss

### Parallelize Thoughtfully

- Independent work: many agents
- Dependent work: one agent, sequential
- Agents are fast - don't over-parallelize

### Memory Makes Characters

- Failures become core memories
- Characters self-correct over time
- Critic agents can focus on higher-level thinking

### Design Interfaces First

- Put API specs in roadmap documentation
- Agents can work against interfaces before implementations exist
- Clear contracts reduce coordination overhead

---

## Tools & Resources

### Communication

- **NATS JetStream:** Agent-to-agent work coordination with ACKs
- **Matrix:** Human-agent interaction with 30-min reads
- **Direct messaging** between agents for coordination

### NATS JetStream Concepts

- **Streams:** Persistent message storage (REQUIREMENTS, INTEGRATION, etc.)
- **Consumers:** Per-agent message delivery with filtering
- **ACK/NAK:** Explicit acknowledgment for guaranteed delivery
- **Pull-based:** Agents fetch messages on their turn

### Static Analysis

- **spaCy:** Custom semantic analysis
- **AST Parsers:** Structure validation
- **word2vec:** Semantic distance for suggestions

### Queue Management

- JetStream consumers for ticket distribution
- Turn-based queue draining with explicit ACKs
- Multiple instances per agent type

---

## Hour 7: Continuous Improvement

### Learning Objectives

- Identify recurring failure patterns in agent behavior
- Use TDD to defeat patterns permanently
- Implement E2E tests that prevent regressions
- Teach discipline through test requirements
- Set up behavior testing for prompt changes
- Create a continuous improvement loop
- Manage your agent team from mobile via claude.ai/code

### The Improvement Loop

```
Find Pattern â†’ Defeat with Test â†’ Teach Discipline â†’ Repeat
```

Every problem that recurs is a pattern waiting to be defeated. Write a test that fails when the pattern occurs. Now it can never come back.

### TDD for Agents

**Traditional TDD:** Red â†’ Green â†’ Refactor

**Agent TDD:** Pattern Found â†’ Test Written â†’ Agent Trained â†’ Pattern Defeated

### E2E Testing Philosophy

Unit tests verify functions. E2E tests verify behavior through the whole system.

When Cynthia researches a topic, do the citations in the final output actually exist? That's an E2E test. Run it on every commit.

### Mobile Workflow

Access your agent team from anywhere via claude.ai/code:

- Add requirements to roadmap from your phone
- Kick off agent tasks
- Check progress
- Review commits

### Exercise 7.1: Pattern Hunt

Review recent history, identify top 3 patterns, write defeat tests.

---

## Troubleshooting Guide

### Agent Issues

| Problem | Cause | Solution |
|---------|-------|----------|
| Agent keeps making same mistake | Memory not saving | Check `add_recent_learning()` calls |
| Agent ignores checklist | Checklist not in prompt | Add to system prompt explicitly |
| Agent drifts from personality | Core memory not loaded | Check `recall_context()` on spawn |
| Agent fabricates content | No verification layer | Add validation step + E2E tests |

### Coordination Issues

| Problem | Cause | Solution |
|---------|-------|----------|
| Merge conflicts everywhere | Poor execution cadence | Stagger agent timing (15-min offsets) |
| Work falls through cracks | No handoff template | Use structured handoff documents |
| Duplicate work | No work item dedup | Add NATS message ID headers |
| Stale context | Infrequent syncs | Increase turn frequency |

### Testing Issues

| Problem | Cause | Solution |
|---------|-------|----------|
| Tests pass locally, fail in CI | Environment differences | Docker/consistent environments |
| E2E tests too slow | Running all on every commit | Split fast/slow test suites |
| False positives | Bounds too strict | Loosen thresholds with rationale |
| Tests don't catch bugs | Testing wrong things | Add E2E, not just unit tests |

### Cost Issues

| Problem | Cause | Solution |
|---------|-------|----------|
| Costs spiking | Retry loops | Add circuit breakers, max retries |
| Expensive runs | Using Opus everywhere | Use Haiku for simple tasks |
| Token bloat | Large context windows | Consolidate memories (REM sleep) |
| Wasted runs | Agent stuck | Add timeout + human alert |

### Recovery Patterns

| Situation | Recovery |
|-----------|----------|
| Agent stuck mid-task | Timeout â†’ NAK â†’ retry later |
| Rate limit hit | Exponential backoff + queue |
| Git conflict | Reset â†’ re-pull â†’ retry |
| Corrupted memory | Restore from audit log |
| Wrong branch | Force checkout â†’ continue |

---

## Cost Tracking & Budgets

### Token Usage by Task Type

| Task | Typical Tokens | Model Choice |
|------|----------------|--------------|
| Simple code fix | 2K-5K | Haiku |
| Feature implementation | 10K-30K | Sonnet |
| Architecture decisions | 20K-50K | Sonnet/Opus |
| Complex research | 30K-100K | Opus |

### Budget Strategies

**Per-agent limits:**

```python
AGENT_BUDGETS = {
    "roy": {"daily_tokens": 100_000, "model": "sonnet"},
    "jen": {"daily_tokens": 100_000, "model": "sonnet"},
    "cynthia": {"daily_tokens": 200_000, "model": "opus"},  # Research needs depth
}
```

**Circuit breakers:**

```python
if agent.tokens_today > agent.daily_limit:
    await notify_human(f"{agent.name} hit daily limit")
    await agent.sleep_until_tomorrow()
```

**Token Conservation Mode:**

When costs spike, the production system activates conservation mode:

```markdown
# TOKEN CONSERVATION MODE ACTIVE
Goal: Finish roadmap with HALF normal tokens

Rules:
- Workers reduced to 4-hour intervals (not continuous)
- Aggressive grep-before-read (search before opening files)
- Skip non-critical documentation updates
- Prefer Haiku for simple tasks, Sonnet for complex
- Consolidate memories more frequently (prevent bloat)
```

This is a real pattern from a production system. When you're 80% through budget, activate conservation mode.

### Monitoring

Track and alert on:

- Tokens per task (spot runaway loops)
- Cost per requirement (estimate future work)
- Model usage distribution (optimize choices)
- Failed attempts (wasted tokens)

---

## Agent Versioning

### Why Version Agents

When you improve an agent's prompt:

- Old memories might reference outdated patterns
- Behavior tests might need updating
- Rollback might be needed

### Versioning Pattern

```markdown
# Agent: Roy v1.3

## Version History
- v1.0: Initial implementation
- v1.1: Added query count awareness (after N+1 incident)
- v1.2: Added API versioning discipline (after March disaster)
- v1.3: Added assertion utilities everywhere

## Current Capabilities
[What this version can do]

## Breaking Changes from v1.2
- Now requires explicit error handling (no silent fallbacks)
```

### Memory Migration

When upgrading agents:

```python
def migrate_memories(agent_id: str, from_version: str, to_version: str):
    memories = load_memories(agent_id)

    if from_version < "1.3" and to_version >= "1.3":
        # v1.3 added assertion requirement
        memories.long_term.append({
            "insight": "Assertion utilities are now mandatory",
            "migrated_from": from_version
        })

    save_memories(agent_id, memories)
```

---

## Reference Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           HUMAN LAYER                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ claude.ai/   â”‚  â”‚   Matrix     â”‚  â”‚  Dashboard   â”‚                   â”‚
â”‚  â”‚ code (mobile)â”‚  â”‚   Chat       â”‚  â”‚  (CTO view)  â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
          â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COORDINATION LAYER                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                    NATS JetStream                               â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚     â”‚
â”‚  â”‚  â”‚ REQUIREMENTSâ”‚ â”‚ INTEGRATION â”‚ â”‚  RESULTS    â”‚               â”‚     â”‚
â”‚  â”‚  â”‚   Stream    â”‚ â”‚   Stream    â”‚ â”‚   Stream    â”‚               â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Orchestrator  â”‚  â”‚ Release Manager â”‚  â”‚  Senior Review  â”‚          â”‚
â”‚  â”‚   (routing)     â”‚  â”‚   (merging)     â”‚  â”‚   (quality)     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                           â”‚
          â–¼                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AGENT LAYER                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Cynthia â”‚ â”‚ Sylvia  â”‚ â”‚   Roy   â”‚ â”‚   Jen   â”‚ â”‚  Priya  â”‚           â”‚
â”‚  â”‚Research â”‚ â”‚Critique â”‚ â”‚ Backend â”‚ â”‚Frontend â”‚ â”‚  Stats  â”‚           â”‚
â”‚  â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚           â”‚
â”‚  â”‚ Memory  â”‚ â”‚ Memory  â”‚ â”‚ Memory  â”‚ â”‚ Memory  â”‚ â”‚ Memory  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â”‚
â”‚       â”‚          â”‚          â”‚          â”‚          â”‚                     â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                             â”‚                                            â”‚
â”‚                             â–¼                                            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚                    â”‚  MCP Memory     â”‚                                  â”‚
â”‚                    â”‚    Server       â”‚                                  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        VALIDATION LAYER                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Layer 1: Research â†’ Layer 2: Critique â†’ Layer 3: Code â†’      â”‚       â”‚
â”‚  â”‚                                         Layer 4: Statistics  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Pre-Commit    â”‚  â”‚   Post-Commit   â”‚  â”‚   E2E Tests     â”‚          â”‚
â”‚  â”‚   Hooks         â”‚  â”‚   Hooks         â”‚  â”‚   (Regression)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CODE LAYER                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚                    â”‚    Git Repo     â”‚                                  â”‚
â”‚                    â”‚   (Main Branch) â”‚                                  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Case Studies

### Case Study 1: The Citation Crisis

**What happened:** Research agent Cynthia was fabricating citations - papers that didn't exist, authors who never wrote those words.

**Impact:** Team wasted hours verifying fake sources. Decisions made on false information.

**Solution:**

1. Made it a core memory (embarrassment drives behavior change)
2. Added E2E test: verify every citation URL exists
3. Added verification layer before any research ships

**Lesson:** Optimistic agents need skeptic partners. Cynthia + Sylvia work together now.

### Case Study 2: The NaN Fallback Disaster

**What happened:** Roy used `?? 0` fallbacks everywhere. When values were NaN, they silently became 0. Simulation ran for months with garbage data.

**Impact:** All simulation results were invalid. Months of work lost.

**Solution:**

1. Core memory: "NEVER use silent fallbacks"
2. Assertion utilities for every state mutation
3. E2E test: no zeros where positive values expected

**Lesson:** "Defensive" code isn't always safe. Explicit failure > silent corruption.

### Case Study 3: The 150 Math.random() Problem

**What happened:** Simulation had 150 uncontrolled `Math.random()` calls. Different runs explored different parameter spaces. Results were incomparable.

**Impact:** "Monte Carlo" was actually just chaos. No reproducibility.

**Solution:**

1. Single seeded RNG source
2. All randomness must be controlled
3. Test: same seed = same output

**Lesson:** Controlled randomness is science. Uncontrolled randomness is noise.

> **Advanced:** Full case studies with 500+ lines of analysis available in `docs/course/case-studies/` including the research citation crisis (how Cynthia and Sylvia evolved their working relationship), property access crisis (847 unsafe accesses fixed), and The Architect's seven iterations (from catastrophic failure to stable coherence).

---

## After the Workshop

### Day 2: First Real Run

- [ ] Watch first overnight merge window
- [ ] Review agent memories in the morning
- [ ] Check for patterns in first commits
- [ ] Add any corrections to checklist

### Week 1: Stabilization

- [ ] Tune execution cadence (15-min offsets working?)
- [ ] Add 3-5 items to senior dev checklist
- [ ] Write first defeat test for observed pattern
- [ ] Try mobile workflow via claude.ai/code

### Week 2: Expansion

- [ ] Add second specialist agent
- [ ] Set up NATS communication between agents
- [ ] Implement first handoff template
- [ ] Run memory consolidation (REM sleep)

### Month 1: Maturity

- [ ] Full agent team with release manager
- [ ] Evolved checklist (10+ items from real corrections)
- [ ] Agents with meaningful memories and character
- [ ] Behavior tests catching prompt regressions
- [ ] Cost tracking showing stable usage

### Ongoing: The Improvement Loop

Every week:

1. Hunt for patterns
2. Write defeat tests
3. Teach discipline
4. Repeat

---

## Immediate Next Steps

1. Set up one autonomous agent on a small feature
2. Build your testing pipeline
3. Create your first senior developer checklist

### Week 1

1. Add a second agent with different specialty
2. Set up NATS JetStream communication between them
3. Document your first anti-pattern

### Month 1

1. Full agent team with release manager
2. Evolved checklist from real corrections
3. Agents with memories and characters

---

## Workshop Materials

- [Workshop 1 - Planning and Requirements](Workshops/Workshop-1-Planning-and-Requirements.md) - Brain dump to phased roadmap
- [Workshop 2 - Autonomous Workers](Workshops/Workshop-2-Autonomous-Workers.md) - Headless Claude, testing, execution cadence
- [Workshop 3 - Agent Orchestration](Workshops/Workshop-3-Agent-Orchestration.md) - Specialist agents, NATS JetStream, Matrix
- [Workshop 4 - Release Management](Workshops/Workshop-4-Release-Management.md) - Merging, scaling, review agents
- [Workshop 5 - Anti-Pattern Detection](Workshops/Workshop-5-Anti-Pattern-Detection.md) - Checklists, static analysis, prompt injection
- [Workshop 6 - Agent Memory and Evolution](Workshops/Workshop-6-Agent-Memory-and-Evolution.md) - 5-layer memory, character development
- [Workshop 7 - Continuous Improvement](Workshops/Workshop-7-Continuous-Improvement.md) - TDD, behavior testing, mobile workflows

> **Note:** Workshops 5 and 6 are complex and fast-paced. Many students get far behind during these sessions. Follow-up videos will be provided to help you work through the material at your own pace after the live workshop. Don't worry if you don't complete everything during class time - these workshops are designed to be revisited.

---

## Follow-Up Reading

ðŸ“– [The Long Game - Operating Agent Teams](The-Long-Game-Operating-Agent-Teams.md) - What happens after the workshops: Day 3, Day 7, Day 14, and beyond. Why humans need process to ship error-free work, and how to build sustainable operations.

---

## Advanced Material

For teams ready to go deeper, see the comprehensive Agentic SDLC Course built from real production experience:

**Location:** `~/src/superalignmenttoutopia/docs/course/`

### What's in the Advanced Course

| Module | Focus | Key Learnings |
|--------|-------|---------------|
| 01 Agent Architecture | Deep personality design | 11 specialized agents with distinct voices |
| 02 Communication Systems | Chatroom patterns | Per-agent read tracking, token optimization |
| 03 Autonomous Workflows | Worker scripts | Channel monitoring, spawn protocols |
| 04 Remote Infrastructure | VM setup | Cron scheduling, multi-worker deploys |
| 05 Planning & Coordination | Roadmap systems | The Architect's seven iterations |
| 06 MCP Servers | Custom tools | 14x token reduction, hierarchical memory |
| 07 Testing & Validation | Monte Carlo | Determinism verification, E2E patterns |
| 08 Quality Gates | Dual-agent review | Research validation, architecture review |
| 09 Crisis Mitigation | Learning from failures | Citation crisis, NaN disaster, 150 Math.random() |
| 10 Autonomous Infrastructure | 24/7 operations | Merge orchestrator, predictive watchers |

### The Evolution Pattern (Historical Context)

The advanced course documents how the production system evolved - you're starting with NATS, but understanding the journey helps you appreciate why:

```
HOW WE LEARNED (so you don't have to)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Files â†’ Lost messages, no audit trail
Read tracking â†’ Still polling, still fragile
MCP chatroom â†’ Better, but single machine
NATS JetStream â†’ âœ“ Persistent, distributed, ACK/NAK

WHERE YOU START
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ NATS JetStream (coordination with audit trail)
âœ“ Agent Memory MCP (persistent context)
âœ“ Matrix (optional: human oversight chat)

WHERE YOU GROW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
+ pdf-rag MCP (semantic search over research papers)
+ Claude Skills (pdf, xlsx, docx, pptx processing)
+ arxiv MCP (paper fetching from arXiv)
+ zotero MCP (citation management)
+ transcript-rag MCP (YouTube/podcast transcripts)
+ Custom MCP servers for your domain
```

You skip Stages 1-3 entirely. The advanced course shows the painful lessons so you understand why NATS matters.

### Real Production Data

The advanced course is built from a project with:

- 4,685 commits in 23 days of November
- Peak velocity: 318 commits in one day
- 9 MCP servers in production
- 11+ named agents with distinct personalities
- 446 devlogs, 508 research files, 505 reviews

### Student Projects (Unsolved Problems)

The advanced course identifies active research problems:

1. **Automatic Grading System** - Scale Layer 2 verification
2. **Parameter Provenance Taxonomy** - Audit ~150 simulation parameters
3. **Memory Consolidation Automation** - LLM-powered compression
4. **Inference-Time Verification** - Mid-reasoning citation validation

These are real unsolved problems with outlined approaches - students work on actual gaps.
